{"version":3,"file":"5.58bda7eac2b3baff4208.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport _ from 'lodash'\nconst accessToken = 'e6bdb60d3ec5313a17274fc3db04a4fe3d28b0fbe6b0b8305c2c84785a5ac700';\nconst spaceId = '52dq79v5sxg3';\nimport Util from '../common/Util'\nimport PetrolStationDetails from '../components/PetrolStationDetails'\n\nexport default class extends Component {\n    state = { \n        city: '',\n        cities: [],\n        selectedStationId: null,\n        selectedStationName: null, \n        selectedStationPrice: null,\n        selectedStationDiesel: null,\n    }\n\n\n    static async getInitialProps({ query, req }) {\n        \n        const productId = _.get(query, 'id');\n        const product = await Util.fetchProduct(productId);\n\n        return {\n            product\n        };\n    }\n    \n    onInputChange(city) {\n        this.setState({ city });\n        this.props.onSearchTermChange(city);\n    }\n    \n    showDetails = (e, newStationId, newStationName, newStationPrice, newStationDiesel) => {\n        e.preventDefault()\n        this.setState({\n            ...this.state,\n            selectedStationId: newStationId,\n            selectedStationName: newStationName,\n            selectedStationPrice: newStationPrice,\n            selectedStationDiesel: newStationDiesel\n        })\n        console.log(this.state.selectedStationId)\n    }\n\n    render() {\n        console.log(this.props.product)\n        const stations = this.props.product.stations;\n        \n        return (\n            <div>\n                <form>\n                    <input \n                        value={this.state.city}\n                        onChange={event => this.onInputChange(event.target.city)} />\n                    <button type='submit'>Search</button>\n                </form>\n                <div>\n                    <p>name: {stations[0].station}</p>\n                    <p>fuel: {stations[0].diesel}</p>\n                    \n                </div>\n                <div>\n                    <h2>List of the Petrol Stations in Finland</h2>\n                    <ul>\n                        {stations.map((item, i) =>\n                            <li key={item.id}>\n                                <a onClick={e => this.showDetails(e, item.id, item.station)}>\n                                    {item.station}\n                                </a>\n                            </li>\n                        )}\n                    </ul>\n                </div>\n                <div>\n                    <h3>Details: {this.state.selectedStationId}</h3>\n                    <p>petrol Station: {this.state.selectedStationName}</p>\n                    <p>diesel: {this.state.selectedStationId}</p>\n                    <p>price: {this.state.selectedStationId}</p>\n                </div>\n                <style>\n                    {`\n                        div {\n                            padding: 20px;\n                        }\n                        input {\n                            width: 180px;\n                        }\n                        input, button {\n                            height: 30px;\n                            margin-right: 10px;\n                        }\n                    `}\n                </style>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;AAyBA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AALA;AACA;AAMA;AACA;;;;;;AAfA;AACA;AAAA;AAAA;AACA;AACA;;;AAcA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAgBA;;;;;;;;;;;;AA9EA;AAEA;;AACA;AACA;;AADA;AAEA;AACA;AADA;AACA;;;;;;;;;;;;;;;;AAjBA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}